2016-06-30 박한 스터디
상구
2016-07-21 06:20:10.482584
<ul style="font-family:'Helvetica Neue';font-size:14px;"><li><span style="font-size: 18px;"><b>bootstrap등을 local에서 가져오기</b></span></li></ul><div style="font-family:'Helvetica Neue';font-size:14px;"><b><span style="font-size: 18px;"><br></span></b></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;">&lt;link&nbsp;rel="stylesheet"&nbsp;href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"&gt;</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;">-&gt; 이런 코드는 cdn 서버가 죽으면 내 서버도 같이 죽는다!</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;"><span style="color: rgb(51, 51, 51); font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-style: normal; font-variant-ligatures: normal; font-variant-position: normal; font-variant-caps: normal; font-variant-numeric: normal; font-variant-alternates: normal; font-variant-east-asian: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: pre; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; background-color: rgb(255, 255, 255);">&lt;</span><span style="box-sizing: border-box; color: rgb(99, 163, 92); font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-style: normal; font-variant-ligatures: normal; font-variant-position: normal; font-variant-caps: normal; font-variant-numeric: normal; font-variant-alternates: normal; font-variant-east-asian: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: pre; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">link</span> <span style="box-sizing: border-box; color: rgb(121, 93, 163); font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-style: normal; font-variant-ligatures: normal; font-variant-position: normal; font-variant-caps: normal; font-variant-numeric: normal; font-variant-alternates: normal; font-variant-east-asian: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: pre; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">rel</span><span style="color: rgb(51, 51, 51); font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-style: normal; font-variant-ligatures: normal; font-variant-position: normal; font-variant-caps: normal; font-variant-numeric: normal; font-variant-alternates: normal; font-variant-east-asian: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: pre; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; background-color: rgb(255, 255, 255);">=</span><span style="box-sizing: border-box; color: rgb(24, 54, 145); font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-style: normal; font-variant-ligatures: normal; font-variant-position: normal; font-variant-caps: normal; font-variant-numeric: normal; font-variant-alternates: normal; font-variant-east-asian: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: pre; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; color: rgb(24, 54, 145);">"</span>stylesheet<span style="box-sizing: border-box; color: rgb(24, 54, 145);">"</span></span> <span style="box-sizing: border-box; color: rgb(121, 93, 163); font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-style: normal; font-variant-ligatures: normal; font-variant-position: normal; font-variant-caps: normal; font-variant-numeric: normal; font-variant-alternates: normal; font-variant-east-asian: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: pre; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">href</span><span style="color: rgb(51, 51, 51); font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-style: normal; font-variant-ligatures: normal; font-variant-position: normal; font-variant-caps: normal; font-variant-numeric: normal; font-variant-alternates: normal; font-variant-east-asian: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: pre; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; background-color: rgb(255, 255, 255);">=</span><span style="box-sizing: border-box; color: rgb(24, 54, 145); font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-style: normal; font-variant-ligatures: normal; font-variant-position: normal; font-variant-caps: normal; font-variant-numeric: normal; font-variant-alternates: normal; font-variant-east-asian: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: pre; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; color: rgb(24, 54, 145);">"</span>{{ url_for('static',filename='css/bootstrap.min.css') }}<span style="box-sizing: border-box; color: rgb(24, 54, 145);">”</span></span><span style="color: rgb(51, 51, 51); font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-style: normal; font-variant-ligatures: normal; font-variant-position: normal; font-variant-caps: normal; font-variant-numeric: normal; font-variant-alternates: normal; font-variant-east-asian: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; background-color: rgb(255, 255, 255);">&gt;</span></span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;">위와 같이 수정해서 쓰자!</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;"><br></span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;">HOW?</span></div><ul style="font-family:'Helvetica Neue';font-size:14px;"><li><span style="font-size: 13px;">bootstrap, jquery, font-awesome 등 다운로드 링크를 복사한다</span></li><li><span style="font-size: 13px;">wget file-downloadlink 를 통해 파일을 다운받고, flask_blog/flask_blog에 static 폴더를 새로 만든 뒤 여기에 파일을 넣어준다</span></li><li><span style="font-size: 13px;">ex )&nbsp;wget&nbsp;https://github.com/twbs/bootstrap/releases/download/v3.3.6/bootstrap-3.3.6-dist.zip</span></li><li><span style="font-size: 13px;">다운로드 받은 압축파일을 풀기위해서 ‘unzip’이 필요</span></li><li><span style="font-size: 13px;">aptitude를 이용해 설치하고 unzip filename을 통해 압축을 풀자</span></li><li><span style="font-size: 13px;">ex )&nbsp;unzip&nbsp;bootstrap-3.3.6-dist.zip&nbsp;</span></li><li><span style="font-size: 13px;"><span style="box-sizing: border-box; color: rgb(24, 54, 145); font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-style: normal; font-variant-ligatures: normal; font-variant-position: normal; font-variant-caps: normal; font-variant-numeric: normal; font-variant-alternates: normal; font-variant-east-asian: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">'static',filename='css/bootstrap.min.css</span><font color="#183691" face="Consolas, Liberation Mono, Menlo, Courier, monospace">’</font>&nbsp;&lt;- flask_blog/static/css 에 위치한 bootstrap.min.css 파일을 사용하겠다!</span></li><li><span style="font-size: 13px;">요약 - wget file-dwnlink / mkdir flask_blog/flask_blog/static / mkdir css / mkdir js / 이후 필요한 파일을 static 폴더 밑에 넣자</span></li><li><span style="font-size: 13px;">(.css와 .min.css는 공백삭제의 차이로 .min.css가 더 가볍고 빠르다)</span></li></ul><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;"><br></span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;"><br></span></div><ul style="font-family:'Helvetica Neue';font-size:14px;"><li><b><span style="font-size: 18px;">Jinja를 통해 고정부, 가변부를 나눠 관리하기</span></b></li></ul><div style="font-family:'Helvetica Neue';font-size:14px;"><b><span style="font-size: 18px;"><br></span></b></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;">웹페이지를 들여다 보면, 고정된 부분과 바뀌는 부분이 정해져 있다.</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;">-&gt; <b>나눠서 관리하자</b>!</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;"><br></span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;">HOW?</span></div><ul style="font-family:'Helvetica Neue';font-size:14px;"><li><span style="font-size: 13px;">jinja를 이용하자!</span></li></ul><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;"><br></span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&lt;<span style="color: rgb(0, 144, 81);">BODY</span>&gt;</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; {% block content %}</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; {%&nbsp;endblock&nbsp;%}</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&lt;/<span style="color: rgb(0, 144, 81);">BODY</span>&gt;</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;"><br></span></div><div style="font-family:'Helvetica Neue';font-size:14px;">바뀌지 않는 부분 ( base.html )
</div><div style="font-family:'Helvetica Neue';font-size:14px;"><br></div><div style="box-sizing: border-box; padding: 0px 10px; vertical-align: top; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; color: rgb(51, 51, 51);"><div>{% extends “base.html” %}
</div><div>{% block content %}
</div><div><span style="color: rgb(255, 147, 0);">&nbsp; &nbsp; Codes Here</span></div><div>{%&nbsp;endblock&nbsp;%}
</div><div>&nbsp;
</div></div><table style="box-sizing: border-box; border-spacing: 0px; border-collapse: collapse; tab-size: 8; color: rgb(51, 51, 51); font-family: Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
<tbody><tr style="box-sizing: border-box;"><td><div><br></div></td>
</tr></tbody></table><div style="font-family:'Helvetica Neue';font-size:14px;">바뀌는 부분
</div><div style="font-family:'Helvetica Neue';font-size:14px;"><br></div><ul style="font-family:'Helvetica Neue';font-size:14px;"><li>결론 :<span style="font-size: 13px;">&nbsp;</span><span style="font-size: 13px;">{% block content %} ~ {% end block %}을 이용!</span></li></ul><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;"><br></span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;"><br></span></div><ul style="font-family:'Helvetica Neue';font-size:14px;"><li><b><span style="font-size: 18px;">Form tag + routes.py 수정을 통해 Mail system을 구현하기</span></b></li></ul><div style="font-family:'Helvetica Neue';font-size:14px;"><b><span style="font-size: 18px;"><br></span></b></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;">이제 본격적으로 Mail을 보내보자!</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;"><br></span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;">0.</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&lt;div&nbsp;class="container"&gt;</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &lt;h3&nbsp;class="text-center"&gt;Contact&lt;/h3&gt;</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; <font color="#FF9300">&lt;form&nbsp;action="{{&nbsp;url_for('contact_mail')&nbsp;}}"&nbsp;method="POST”&gt; # 보내는 정보가 안보이도록 타입을 POST로 설정!</font></span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &lt;div&nbsp;class="row"&gt;</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div&nbsp;class="col-md-4"&gt;</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;p&gt;건의사항이&nbsp;있으신가요?&nbsp;저희에게&nbsp;알려주세요!&lt;/p&gt;</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;p&gt;&lt;span&nbsp;class="glyphicon&nbsp;glyphicon-map-marker"&gt;&lt;/span&gt;&nbsp;Ra관&nbsp;3층&lt;/p&gt;</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;p&gt;&lt;span&nbsp;class="glyphicon&nbsp;glyphicon-phone"&gt;&lt;/span&gt;&nbsp;Phone:&nbsp;+82&nbsp;01040308622&lt;/p&gt;</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;p&gt;&lt;span&nbsp;class="glyphicon&nbsp;glyphicon-envelope"&gt;&lt;/span&gt;&nbsp;Email:&nbsp;korean139@gmail.com&lt;/p&gt;</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div&nbsp;class="col-md-8"&gt;</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div&nbsp;class="row"&gt;</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div&nbsp;class="col-sm-6&nbsp;form-group"&gt;</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input&nbsp;class="form-control"&nbsp;id="name"&nbsp;name="name"&nbsp;placeholder="Name"&nbsp;type="text"&nbsp;required&gt;</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div&nbsp;class="col-sm-6&nbsp;form-group"&gt;</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input&nbsp;class="form-control"&nbsp;id="email"&nbsp;name="email"&nbsp;placeholder="Email"&nbsp;type="email"&nbsp;required&gt;</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;textarea&nbsp;class="form-control"&nbsp;id="comments"&nbsp;name="comments"&nbsp;placeholder="Comment"&nbsp;rows="5"&gt;&lt;/textarea&gt;</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;br&gt;</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div&nbsp;class="row"&gt;</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div&nbsp;class="col-md-12&nbsp;form-group"&gt;</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button&nbsp;class="btn&nbsp;pull-right"&nbsp;type="submit"&gt;Send&lt;/button&gt;</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &lt;/form&gt;</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &lt;/div&gt;</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&lt;/div&gt;</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><br></div><div style="font-family:'Helvetica Neue';font-size:14px;">Form tag &amp;&amp; Bootstrap을 이용해 만든 간단한 이름, 메일, 건의사항을 적어 전송할 수 있는 상자를 만드는 코드
</div><div style="font-family:'Helvetica Neue';font-size:14px;"><br></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;">이제 routes.py를 손보자!</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;"><br></span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;">1.</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;"><span style="font-family: 'Helvetica Neue';">from&nbsp;flask&nbsp;import&nbsp;Flask,&nbsp;render_template,&nbsp;request,&nbsp;<span style="color: rgb(255, 147, 0);">redirect,&nbsp;url_for</span></span></span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;"><br></span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;">routes.py 첫 줄에서 위와 같이 import에 &nbsp;redirect와 url_for을 추가해주자</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;"><br></span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;">2.</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">from&nbsp;config&nbsp;import&nbsp;(</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; MAIL_SERVER,</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; MAIL_PORT,</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; MAIL_USE_TLS,</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; MAIL_USE_SSL,</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; MAIL_USERNAME,</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; MAIL_PASSWORD</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; )</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><br></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;">위와 같이 config.py에서 메일 정보를 가져오자 ( 정보보호 목적 )</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><br></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;">2.(a)</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">MAIL_SERVER&nbsp;=&nbsp;‘smtp.googlemail.com’&nbsp;&nbsp; &nbsp; # &nbsp;gmail server</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">MAIL_PORT&nbsp;=&nbsp;465</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">MAIL_USE_TLS&nbsp;=&nbsp;False</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">MAIL_USE_SSL&nbsp;=&nbsp;True</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">MAIL_USERNAME&nbsp;=&nbsp;'help.sisobus@gmail.com’&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# 테스트 해보기 위해서 임시로 하나 만들었다</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;"><span style="font-size: 12px;">MAIL_PASSWORD&nbsp;=&nbsp;'tjrkdeoghkdlxld’&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # 서강대화이팅</span>!</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;"><br></span></div><div style="font-family:'Helvetica Neue';font-size:14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;config.py 의 내용&gt;
</div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;"><br></span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">3.</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">app.config["MAIL_SERVER"]&nbsp;=&nbsp;MAIL_SERVER</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">app.config["MAIL_PORT"]&nbsp;=&nbsp;MAIL_PORT</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">app.config["MAIL_USE_TLS"]&nbsp;=&nbsp;False</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">app.config["MAIL_USE_SSL"]&nbsp;=&nbsp;True</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">app.config["MAIL_USERNAME"]&nbsp;=&nbsp;MAIL_USERNAME&nbsp;</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">app.config["MAIL_PASSWORD"]&nbsp;=&nbsp;MAIL_PASSWORD</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><br></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;">이후 app = Flask(__name__) 하단부에 위와 같이 코드를 적어주고,</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><br></div><div style="font-family:'Helvetica Neue';font-size:14px;">4.
</div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">from&nbsp;flask.ext.mail&nbsp;import&nbsp;Mail</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">mail&nbsp;=&nbsp;Mail(app)</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">from&nbsp;flask.ext.mail&nbsp;import&nbsp;Message</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><br></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;">이렇게 코드를 추가해주자.</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;"><br></span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;">4.(a)</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;">그런데 flask.ext.mail이 설치되어있지 않다! =&gt; <span style="color: rgb(255, 147, 0);">pip install flask_mail</span>을 이용해 설치하자!</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><br></div><div style="font-family:'Helvetica Neue';font-size:14px;">5.
</div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">@app.route('/contact_mail',methods=['GET','POST'])</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">def&nbsp;contact_mail():</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; if&nbsp;request.method&nbsp;==&nbsp;'GET':</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; return&nbsp;render_template('2016-06-30.html')</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; elif&nbsp;request.method&nbsp;==&nbsp;'POST':</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; name&nbsp;=&nbsp;request.form['name']</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; email&nbsp;=&nbsp;request.form['email']</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; comments&nbsp;=&nbsp;request.form['comments']</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; send_email(u'반갑습니다.',</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; MAIL_USERNAME,</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [email],</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; u'반갑습니다.&nbsp;바디입니다.',</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; u'반갑습니다.&nbsp;html입니다.&nbsp;%s님이&nbsp;쓰신&nbsp;%s는&nbsp;잘&nbsp;읽었습니다.&nbsp;다만&nbsp;들어줄&nbsp;수&nbsp;없습니다&nbsp;.'%(name,comments))</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; return&nbsp;redirect(url_for('test_2016_06_30'))</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><br></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;">이후에 이렇게 코드를 추가해주자.</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;">마지막 return redirect(url_for(‘<span style="color: rgb(255, 147, 0);">돌아갈 함수 이름</span>’)) 으로 수정해주면 된다. (send_email 함수는 바로 뒤에 등장)</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;">(GET -&gt; &nbsp;빠르지만 스니핑의 위험이 있다 // POST -&gt; 정보를 넘길때 표시하지 않으므로 보다 안전하다)</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;"><br></span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;">6.</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;">근데 메일 보내는동안 기다리긴 지루하다 -&gt; 비동기화! ( 가는데 순서없다 ) // 이 때 필요한게 Thread</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;"><br></span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">@async</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">def&nbsp;send_async_email(app,&nbsp;msg):</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; with&nbsp;app.app_context():</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; mail.send(msg)</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;"><br></span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">def&nbsp;send_email(subject,&nbsp;sender,&nbsp;recipients,&nbsp;text_body,&nbsp;html_body):</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; msg&nbsp;=&nbsp;Message(subject,&nbsp;sender=sender,&nbsp;recipients=recipients)</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; msg.body&nbsp;=&nbsp;text_body</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; msg.html&nbsp;=&nbsp;html_body</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; send_async_email(app,msg)</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><br></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;">이런 코드를 추가해주자!</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><br></div><div style="font-family:'Helvetica Neue';font-size:14px;">6.(a)
</div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">from&nbsp;threading&nbsp;import&nbsp;Thread</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;"><br></span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">def&nbsp;async(f):</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; def&nbsp;wrapper(*args,&nbsp;**kwargs):</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; thr&nbsp;=&nbsp;Thread(target=f,&nbsp;args=args,&nbsp;kwargs=kwargs)</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; thr.start()</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 12px;">&nbsp; &nbsp; return&nbsp;wrapper</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><br></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;decorators.py 의 내용&gt;</span></div><div style="font-family:'Helvetica Neue';font-size:14px;"><span style="font-size: 13px;"><br></span></div><p><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

</p><div style="font-family:'Helvetica Neue';font-size:13px;">비동기화에 필요한 Thread는 위와 같이 decorators.py 를 만들어서 해결하자.</div>